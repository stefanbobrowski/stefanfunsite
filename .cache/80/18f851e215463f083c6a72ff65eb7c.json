{"id":"../node_modules/hookrouter/dist/interceptor.js","dependencies":[{"name":"C:\\Users\\stefa\\Desktop\\FutureWebApps\\stefansite\\package.json","includedInParent":true,"mtime":1567708409877},{"name":"C:\\Users\\stefa\\Desktop\\FutureWebApps\\stefansite\\node_modules\\hookrouter\\package.json","includedInParent":true,"mtime":1567633600147},{"name":"react","loc":{"line":8,"column":44},"parent":"C:\\Users\\stefa\\Desktop\\FutureWebApps\\stefansite\\node_modules\\hookrouter\\dist\\interceptor.js","resolved":"C:\\Users\\stefa\\Desktop\\FutureWebApps\\stefansite\\node_modules\\react\\index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useInterceptor = exports.interceptRoute = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar incrementalId = 1;\nvar interceptors = [];\n\nvar interceptRoute = function interceptRoute(previousRoute, nextRoute) {\n  if (!interceptors.length) {\n    return nextRoute;\n  }\n\n  return interceptors.reduceRight(function (nextRoute, interceptor) {\n    return nextRoute === previousRoute ? nextRoute : interceptor.handlerFunction(previousRoute, nextRoute);\n  }, nextRoute);\n};\n\nexports.interceptRoute = interceptRoute;\n\nvar get = function get(componentId) {\n  return interceptors.find(function (obj) {\n    return obj.componentId === componentId;\n  }) || null;\n};\n\nvar remove = function remove(componentId) {\n  var index = interceptors.findIndex(function (obj) {\n    return obj.componentId === componentId;\n  });\n\n  if (index !== -1) {\n    interceptors.splice(index, 1);\n  }\n};\n\nvar useInterceptor = function useInterceptor(handlerFunction) {\n  var _React$useState = _react.default.useState(incrementalId++),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      componentId = _React$useState2[0];\n\n  var obj = get(componentId);\n\n  if (!obj) {\n    obj = {\n      componentId: componentId,\n      stop: function stop() {\n        return remove(componentId);\n      },\n      handlerFunction: handlerFunction\n    };\n    interceptors.unshift(obj);\n  }\n\n  _react.default.useEffect(function () {\n    return function () {\n      return obj.stop();\n    };\n  }, []);\n\n  return obj.stop;\n};\n\nexports.useInterceptor = useInterceptor;\n"},"sourceMaps":{"js":{"version":3,"sources":["../src/interceptor.js"],"names":["incrementalId","interceptors","interceptRoute","previousRoute","nextRoute","length","reduceRight","interceptor","handlerFunction","get","componentId","find","obj","remove","index","findIndex","splice","useInterceptor","React","useState","stop","unshift","useEffect"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;AAEA,IAAIA,aAAa,GAAG,CAApB;AAEA,IAAMC,YAAY,GAAG,EAArB;;AAEO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,aAAD,EAAgBC,SAAhB,EAA8B;AAC3D,MAAI,CAACH,YAAY,CAACI,MAAlB,EAA0B;AACzB,WAAOD,SAAP;AACA;;AAED,SAAOH,YAAY,CAACK,WAAb,CACN,UAACF,SAAD,EAAYG,WAAZ;AAAA,WAA4BH,SAAS,KAAKD,aAAd,GACzBC,SADyB,GAEzBG,WAAW,CAACC,eAAZ,CAA4BL,aAA5B,EAA2CC,SAA3C,CAFH;AAAA,GADM,EAINA,SAJM,CAAP;AAMA,CAXM;;;;AAaP,IAAMK,GAAG,GAAG,SAANA,GAAM,CAACC,WAAD;AAAA,SAAiBT,YAAY,CAACU,IAAb,CAAkB,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACF,WAAJ,KAAoBA,WAAxB;AAAA,GAArB,KAA6D,IAA9E;AAAA,CAAZ;;AACA,IAAMG,MAAM,GAAG,SAATA,MAAS,CAACH,WAAD,EAAiB;AAC/B,MAAMI,KAAK,GAAGb,YAAY,CAACc,SAAb,CAAuB,UAAAH,GAAG;AAAA,WAAIA,GAAG,CAACF,WAAJ,KAAoBA,WAAxB;AAAA,GAA1B,CAAd;;AACA,MAAII,KAAK,KAAK,CAAC,CAAf,EAAkB;AACjBb,IAAAA,YAAY,CAACe,MAAb,CAAoBF,KAApB,EAA2B,CAA3B;AACA;AACD,CALD;;AAOO,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAACT,eAAD,EAAqB;AAAA,wBAC5BU,eAAMC,QAAN,CAAenB,aAAa,EAA5B,CAD4B;AAAA;AAAA,MAC3CU,WAD2C;;AAGlD,MAAIE,GAAG,GAAGH,GAAG,CAACC,WAAD,CAAb;;AAEA,MAAI,CAACE,GAAL,EAAU;AACTA,IAAAA,GAAG,GAAG;AACLF,MAAAA,WAAW,EAAXA,WADK;AAELU,MAAAA,IAAI,EAAE;AAAA,eAAMP,MAAM,CAACH,WAAD,CAAZ;AAAA,OAFD;AAGLF,MAAAA,eAAe,EAAfA;AAHK,KAAN;AAMAP,IAAAA,YAAY,CAACoB,OAAb,CAAqBT,GAArB;AACA;;AAEDM,iBAAMI,SAAN,CAAgB;AAAA,WAAM;AAAA,aAAMV,GAAG,CAACQ,IAAJ,EAAN;AAAA,KAAN;AAAA,GAAhB,EAAwC,EAAxC;;AAEA,SAAOR,GAAG,CAACQ,IAAX;AACA,CAlBM","sourcesContent":["import React from 'react';\r\n\r\nlet incrementalId = 1;\r\n\r\nconst interceptors = [];\r\n\r\nexport const interceptRoute = (previousRoute, nextRoute) => {\r\n\tif (!interceptors.length) {\r\n\t\treturn nextRoute;\r\n\t}\r\n\r\n\treturn interceptors.reduceRight(\r\n\t\t(nextRoute, interceptor) => nextRoute === previousRoute\r\n\t\t\t? nextRoute\r\n\t\t\t: interceptor.handlerFunction(previousRoute, nextRoute),\r\n\t\tnextRoute\r\n\t);\r\n};\r\n\r\nconst get = (componentId) => interceptors.find(obj => obj.componentId === componentId) || null;\r\nconst remove = (componentId) => {\r\n\tconst index = interceptors.findIndex(obj => obj.componentId === componentId);\r\n\tif (index !== -1) {\r\n\t\tinterceptors.splice(index, 1);\r\n\t}\r\n};\r\n\r\nexport const useInterceptor = (handlerFunction) => {\r\n\tconst [componentId] = React.useState(incrementalId++);\r\n\r\n\tlet obj = get(componentId);\r\n\r\n\tif (!obj) {\r\n\t\tobj = {\r\n\t\t\tcomponentId,\r\n\t\t\tstop: () => remove(componentId),\r\n\t\t\thandlerFunction\r\n\t\t};\r\n\r\n\t\tinterceptors.unshift(obj);\r\n\t}\r\n\r\n\tReact.useEffect(() => () => obj.stop(), []);\r\n\r\n\treturn obj.stop;\r\n};\r\n"]}},"error":null,"hash":"a46c1f304c5bb5c8a2a36ba1acb0af39","cacheData":{"env":{}}}